version: '3.8'\nservices:\n  step1:\n    build: ./step1\n    ports:\n      - 3001:3000\n  step2-backend:\n    build: ./step2\n    command: npm run backend\n    ports:\n      - 4000:4000\n  step2-frontend:\n    build: ./step2\n    command: npm run dev\n    ports:\n      - 3002:3000\n  step3-backend:\n    build: ./step3\n    command: npm run backend\n    ports:\n      - 5000:5000\n  step3-frontend:\n    build: ./step3\n    command: npm run dev\n    ports:\n      - 3003:3000\n
  mongo:\n    image: mongo:6\n    ports:\n      - 27017:27017\n  step4-backend:\n    build: ./step4\n    command: npm run backend\n    ports:\n      - 6000:6000\n    depends_on:\n      - mongo\n    environment:\n      - MONGO_URL=mongodb://mongo:27017/notesdb\n  step4-frontend:\n    build: ./step4\n    command: npm run dev\n    ports:\n      - 3004:3000\n    depends_on:\n      - step4-backend\n
  step5-backend:\n    build: ./step5\n    command: npm run backend\n    ports:\n      - 7000:7000\n  step5-frontend:\n    build: ./step5\n    command: npm run dev\n    ports:\n      - 3005:3000\n    depends_on:\n      - step5-backend\n
